@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #0a0e1a;
  --foreground: #e5e7eb;
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Cultivation Progress Animations */
@keyframes progressGlow {
  0%,
  100% {
    box-shadow:
      0 0 5px currentColor,
      0 0 10px currentColor;
    opacity: 1;
  }
  50% {
    box-shadow:
      0 0 15px currentColor,
      0 0 25px currentColor,
      0 0 35px currentColor;
    opacity: 0.9;
  }
}

@keyframes progressPulse {
  0%,
  100% {
    transform: scaleX(1);
  }
  50% {
    transform: scaleX(1.02);
  }
}

@keyframes nearBreakthrough {
  0%,
  100% {
    box-shadow:
      0 0 10px #fbbf24,
      0 0 20px #fbbf24,
      0 0 30px #f59e0b;
    filter: brightness(1.1);
  }
  50% {
    box-shadow:
      0 0 20px #fbbf24,
      0 0 40px #fbbf24,
      0 0 60px #f59e0b;
    filter: brightness(1.3);
  }
}

/* Breakthrough Modal Animations */
@keyframes breakthroughExplosion {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes breakthroughRing {
  0% {
    transform: scale(0.5);
    opacity: 1;
    border-width: 4px;
  }
  100% {
    transform: scale(3);
    opacity: 0;
    border-width: 1px;
  }
}

@keyframes lightningFlash {
  0%,
  100% {
    opacity: 0;
  }
  10%,
  30%,
  50% {
    opacity: 1;
  }
  20%,
  40% {
    opacity: 0;
  }
}

@keyframes realmTextReveal {
  0% {
    opacity: 0;
    transform: translateY(30px) scale(0.8);
    filter: blur(10px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

@keyframes statCountUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Meridian Diagram Animations */
@keyframes qiFlow {
  0% {
    stroke-dashoffset: 100;
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 0.3;
  }
}

@keyframes meridianPulse {
  0%,
  100% {
    filter: drop-shadow(0 0 3px currentColor);
    transform: scale(1);
  }
  50% {
    filter: drop-shadow(0 0 8px currentColor) drop-shadow(0 0 15px currentColor);
    transform: scale(1.1);
  }
}

@keyframes meridianActivate {
  0% {
    fill-opacity: 0;
    transform: scale(0);
  }
  50% {
    fill-opacity: 1;
    transform: scale(1.3);
  }
  100% {
    fill-opacity: 1;
    transform: scale(1);
  }
}

/* Particle Effects */
@keyframes particleRise {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) translateX(var(--particle-drift, 10px)) scale(0);
    opacity: 0;
  }
}

@keyframes particleSpin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Exp Gain Animation */
@keyframes expGain {
  0% {
    transform: scale(1);
  }
  25% {
    transform: scale(1.05);
    filter: brightness(1.2);
  }
  100% {
    transform: scale(1);
    filter: brightness(1);
  }
}

/* Shimmer effect for progress bar */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* ===== UI TRANSITION ANIMATIONS ===== */

/* Tab switching - smooth fade and slide */
@keyframes tabFadeIn {
  0% {
    opacity: 0;
    transform: translateX(20px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes tabFadeOut {
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(-20px);
  }
}

/* Modal animations - scale and fade */
@keyframes modalEnter {
  0% {
    opacity: 0;
    transform: scale(0.9) translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes modalExit {
  0% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
  100% {
    opacity: 0;
    transform: scale(0.9) translateY(20px);
  }
}

@keyframes modalBackdropEnter {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Button feedback animations */
@keyframes buttonGlow {
  0%,
  100% {
    box-shadow: 0 0 5px currentColor;
  }
  50% {
    box-shadow:
      0 0 15px currentColor,
      0 0 25px currentColor;
  }
}

@keyframes buttonRipple {
  0% {
    transform: scale(0);
    opacity: 0.5;
  }
  100% {
    transform: scale(2.5);
    opacity: 0;
  }
}

@keyframes buttonPressDown {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
  }
}

/* List item stagger animation */
@keyframes listItemSlideIn {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Toast notification animations */
@keyframes toastSlideIn {
  0% {
    opacity: 0;
    transform: translateX(100%);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes toastSlideOut {
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(100%);
  }
}

/* ===== CULTIVATION VISUAL ANIMATIONS ===== */

/* Meditation aura glow */
@keyframes meditationAura {
  0%,
  100% {
    box-shadow:
      0 0 20px rgba(139, 92, 246, 0.3),
      0 0 40px rgba(139, 92, 246, 0.2),
      0 0 60px rgba(139, 92, 246, 0.1);
    filter: brightness(1);
  }
  50% {
    box-shadow:
      0 0 30px rgba(139, 92, 246, 0.5),
      0 0 60px rgba(139, 92, 246, 0.3),
      0 0 90px rgba(139, 92, 246, 0.2);
    filter: brightness(1.1);
  }
}

/* Exp particles flowing */
@keyframes expParticleFlow {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: translateY(-60px) scale(0);
    opacity: 0;
  }
}

/* Breakthrough ready pulsing border */
@keyframes breakthroughReadyPulse {
  0%,
  100% {
    border-color: #fbbf24;
    box-shadow:
      0 0 10px #fbbf24,
      0 0 20px #f59e0b,
      inset 0 0 10px rgba(251, 191, 36, 0.2);
  }
  50% {
    border-color: #f59e0b;
    box-shadow:
      0 0 20px #fbbf24,
      0 0 40px #f59e0b,
      0 0 60px #d97706,
      inset 0 0 20px rgba(251, 191, 36, 0.3);
  }
}

/* Realm advancement cosmic effect */
@keyframes cosmicBackground {
  0% {
    background-position: 0% 50%;
    filter: hue-rotate(0deg);
  }
  50% {
    background-position: 100% 50%;
    filter: hue-rotate(30deg);
  }
  100% {
    background-position: 0% 50%;
    filter: hue-rotate(0deg);
  }
}

@keyframes cosmicStars {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

/* Enhanced qi flow animation */
@keyframes qiFlowEnhanced {
  0% {
    stroke-dashoffset: 100;
    opacity: 0.2;
    filter: drop-shadow(0 0 3px currentColor);
  }
  50% {
    opacity: 1;
    filter: drop-shadow(0 0 8px currentColor) drop-shadow(0 0 15px currentColor);
  }
  100% {
    stroke-dashoffset: 0;
    opacity: 0.2;
    filter: drop-shadow(0 0 3px currentColor);
  }
}

/* ===== WORLD EFFECT ANIMATIONS ===== */

/* Map travel path animation */
@keyframes travelPath {
  0% {
    stroke-dashoffset: 100%;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    stroke-dashoffset: 0%;
    opacity: 0;
  }
}

@keyframes travelMarker {
  0% {
    transform: scale(0) rotate(0deg);
  }
  50% {
    transform: scale(1.2) rotate(180deg);
  }
  100% {
    transform: scale(1) rotate(360deg);
  }
}

/* Region change fade transition */
@keyframes regionFadeIn {
  0% {
    opacity: 0;
    filter: blur(10px);
  }
  100% {
    opacity: 1;
    filter: blur(0);
  }
}

@keyframes regionNameReveal {
  0% {
    opacity: 0;
    transform: translateY(30px);
    letter-spacing: 0.3em;
  }
  50% {
    letter-spacing: 0.1em;
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    letter-spacing: normal;
  }
}

/* Portal swirl effect */
@keyframes portalSwirl {
  0% {
    transform: rotate(0deg) scale(0);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: rotate(720deg) scale(1);
    opacity: 0;
  }
}

@keyframes portalRing {
  0% {
    transform: scale(0.5) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: scale(2) rotate(180deg);
    opacity: 0;
  }
}

/* Time passage sky color shift */
@keyframes skyColorShift {
  0%,
  100% {
    background-color: rgba(10, 14, 26, 1);
  }
  25% {
    background-color: rgba(30, 20, 40, 1);
  }
  50% {
    background-color: rgba(20, 30, 50, 1);
  }
  75% {
    background-color: rgba(40, 25, 35, 1);
  }
}

/* Season particle effects */
@keyframes seasonParticle {
  0% {
    transform: translateY(-10px) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) translateX(var(--wind-drift, 50px)) rotate(var(--rotation, 360deg));
    opacity: 0;
  }
}

@keyframes floatingLeaf {
  0%,
  100% {
    transform: translateX(0) rotate(0deg);
  }
  25% {
    transform: translateX(15px) rotate(10deg);
  }
  75% {
    transform: translateX(-15px) rotate(-10deg);
  }
}

/* ===== GENERAL UTILITY ANIMATIONS ===== */

/* Fade animations */
@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes fadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Scale animations */
@keyframes scaleIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

@keyframes scaleOut {
  0% {
    transform: scale(1);
    opacity: 1;
  }
  100% {
    transform: scale(0);
    opacity: 0;
  }
}

/* Bounce animation */
@keyframes bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* Shake animation for errors */
@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }
  10%,
  30%,
  50%,
  70%,
  90% {
    transform: translateX(-5px);
  }
  20%,
  40%,
  60%,
  80% {
    transform: translateX(5px);
  }
}

/* Pulse animation */
@keyframes pulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
}

/* Spin animation */
@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Float animation */
@keyframes float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

/* Glow pulse animation */
@keyframes glowPulse {
  0%,
  100% {
    filter: drop-shadow(0 0 5px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 20px currentColor) drop-shadow(0 0 40px currentColor);
  }
}

/* Save indicator animation */
@keyframes saveIndicator {
  0% {
    opacity: 0;
    transform: scale(0.8);
  }
  20% {
    opacity: 1;
    transform: scale(1.1);
  }
  40% {
    transform: scale(1);
  }
  80% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: scale(0.9);
  }
}

/* Loading spinner */
@keyframes loadingSpinner {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Number counter animation */
@keyframes numberPop {
  0% {
    transform: scale(1);
    color: inherit;
  }
  50% {
    transform: scale(1.3);
    color: #22c55e;
  }
  100% {
    transform: scale(1);
    color: inherit;
  }
}

/* ===== COMBAT MOVE ANIMATIONS ===== */

/* Attack slash animation - right direction */
@keyframes combatSlashRight {
  0% {
    transform: scaleX(0) rotate(var(--rotation, 0deg));
    opacity: 0;
    transform-origin: left center;
  }
  30% {
    transform: scaleX(1.2) rotate(var(--rotation, 0deg));
    opacity: 1;
  }
  100% {
    transform: scaleX(0) rotate(var(--rotation, 0deg));
    opacity: 0;
    transform-origin: right center;
  }
}

/* Attack slash animation - left direction */
@keyframes combatSlashLeft {
  0% {
    transform: scaleX(0) rotate(var(--rotation, 0deg));
    opacity: 0;
    transform-origin: right center;
  }
  30% {
    transform: scaleX(1.2) rotate(var(--rotation, 0deg));
    opacity: 1;
  }
  100% {
    transform: scaleX(0) rotate(var(--rotation, 0deg));
    opacity: 0;
    transform-origin: left center;
  }
}

/* Combat spark effect */
@keyframes combatSpark {
  0% {
    transform: rotate(var(--rotation, 0deg)) translateX(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: rotate(var(--rotation, 0deg)) translateX(50px) scale(0);
    opacity: 0;
  }
}

/* Qi burst animation */
@keyframes combatQiBurst {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  30% {
    transform: scale(1.3);
    opacity: 1;
  }
  60% {
    transform: scale(1);
  }
  100% {
    transform: scale(1.1);
    opacity: 0.8;
  }
}

/* Qi trail animation */
@keyframes combatQiTrail {
  0% {
    transform: rotate(var(--rotation, 0deg)) translateY(-20px) scaleY(0);
    opacity: 0;
  }
  30% {
    transform: rotate(var(--rotation, 0deg)) translateY(-40px) scaleY(1);
    opacity: 1;
  }
  100% {
    transform: rotate(var(--rotation, 0deg)) translateY(-80px) scaleY(0);
    opacity: 0;
  }
}

/* Shield animation */
@keyframes combatShield {
  0% {
    transform: scale(0) rotateY(-90deg);
    opacity: 0;
  }
  40% {
    transform: scale(1.1) rotateY(0deg);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotateY(0deg);
    opacity: 1;
  }
}

/* Shield ripple animation */
@keyframes combatShieldRipple {
  0% {
    transform: scale(1);
    opacity: 0.8;
  }
  100% {
    transform: scale(1.5);
    opacity: 0;
  }
}

/* Skill burst animation */
@keyframes combatSkillBurst {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  30% {
    transform: scale(1.2) rotate(90deg);
    opacity: 1;
  }
  100% {
    transform: scale(1) rotate(180deg);
    opacity: 1;
  }
}

/* Skill particle animation */
@keyframes combatSkillParticle {
  0% {
    transform: rotate(var(--rotation, 0deg)) translateX(20px) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
  100% {
    transform: rotate(var(--rotation, 0deg)) translateX(60px) scale(0);
    opacity: 0;
  }
}

/* Barrier animation */
@keyframes combatBarrier {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  40% {
    transform: scale(1.1);
    opacity: 1;
  }
  60% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

/* Buff rise animation */
@keyframes combatBuffRise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  100% {
    transform: translateY(-80px) scale(0);
    opacity: 0;
  }
}

/* Claw attack animation */
@keyframes combatClaw {
  0% {
    transform: translateX(-100%) translateY(var(--offset, 0));
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  100% {
    transform: translateX(100%) translateY(var(--offset, 0));
    opacity: 0;
  }
}

/* Screen flash animation */
@keyframes combatFlash {
  0% {
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Critical hit animation */
@keyframes combatCritical {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 0;
  }
  30% {
    transform: scale(1.5) rotate(45deg);
    opacity: 1;
  }
  50% {
    transform: scale(1.2) rotate(90deg);
  }
  100% {
    transform: scale(1) rotate(180deg);
    opacity: 0.8;
  }
}

/* Whoosh animation for miss */
@keyframes combatWhoosh {
  0% {
    transform: translateX(-50px) scaleX(0);
    opacity: 0;
  }
  30% {
    transform: translateX(0) scaleX(1);
    opacity: 0.7;
  }
  100% {
    transform: translateX(100px) scaleX(0.5);
    opacity: 0;
  }
}

/* After-image for dodge */
@keyframes combatAfterimage {
  0% {
    transform: translateX(0);
    opacity: 0.6;
  }
  100% {
    transform: translateX(40px);
    opacity: 0;
  }
}

/* Speed lines for flee */
@keyframes combatSpeedLine {
  0% {
    transform: translateX(0) scaleX(0);
    opacity: 0;
  }
  30% {
    transform: translateX(20px) scaleX(1);
    opacity: 0.8;
  }
  100% {
    transform: translateX(150px) scaleX(0.3);
    opacity: 0;
  }
}

/* Dust cloud animation */
@keyframes combatDust {
  0% {
    transform: scale(0.5) translateX(0);
    opacity: 0;
  }
  30% {
    transform: scale(1) translateX(10px);
    opacity: 0.6;
  }
  100% {
    transform: scale(1.5) translateX(30px);
    opacity: 0;
  }
}

/* Hit shake animation */
@keyframes combatHitShake {
  0%, 100% {
    transform: translateX(0);
  }
  20% {
    transform: translateX(-8px);
  }
  40% {
    transform: translateX(8px);
  }
  60% {
    transform: translateX(-4px);
  }
  80% {
    transform: translateX(4px);
  }
}

/* Animation utility classes */
.animate-combat-slash-right {
  animation: combatSlashRight 0.4s ease-out forwards;
}

.animate-combat-slash-left {
  animation: combatSlashLeft 0.4s ease-out forwards;
}

.animate-combat-spark {
  animation: combatSpark 0.4s ease-out forwards;
}

.animate-combat-qi-burst {
  animation: combatQiBurst 0.5s ease-out forwards;
}

.animate-combat-qi-trail {
  animation: combatQiTrail 0.5s ease-out forwards;
}

.animate-combat-shield {
  animation: combatShield 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-combat-shield-ripple {
  animation: combatShieldRipple 0.6s ease-out forwards;
}

.animate-combat-skill-burst {
  animation: combatSkillBurst 0.6s ease-out forwards;
}

.animate-combat-skill-particle {
  animation: combatSkillParticle 0.5s ease-out forwards;
}

.animate-combat-barrier {
  animation: combatBarrier 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.animate-combat-buff-rise {
  animation: combatBuffRise 0.8s ease-out forwards;
}

.animate-combat-claw {
  animation: combatClaw 0.4s ease-out forwards;
}

.animate-combat-flash {
  animation: combatFlash 0.3s ease-out forwards;
}

.animate-combat-critical {
  animation: combatCritical 0.6s ease-out forwards;
}

.animate-combat-whoosh {
  animation: combatWhoosh 0.35s ease-out forwards;
}

.animate-combat-afterimage {
  animation: combatAfterimage 0.4s ease-out forwards;
}

.animate-combat-speed-line {
  animation: combatSpeedLine 0.5s ease-out forwards;
}

.animate-combat-dust {
  animation: combatDust 0.6s ease-out forwards;
}

.animate-combat-hit-shake {
  animation: combatHitShake 0.3s ease-out;
}
